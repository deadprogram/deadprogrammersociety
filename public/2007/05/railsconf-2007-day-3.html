<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RailsConf 2007 - Day 3 - Dead Programmer SOciety</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="/favicon.png">
  <link rel="canonical" href="/2007/05/railsconf-2007-day-3.html" />

  
  
  <link rel="stylesheet" href="/css/style.min.6b89cc86c0b843a772cdd6c6a8b7e11c2116c7933f6163d2ef225a87e1d2c121.css">
  

  
    
    <meta property="og:title" content="RailsConf 2007 - Day 3"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="/2007/05/railsconf-2007-day-3.html"/>
    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@deadprogram"/>
    <meta name="twitter:creator" content="@deadprogram"/>
  

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet"> 
</head>




<body class='page frame page-blog-single'>
  <div id="menu-main-mobile" class="menu-main-mobile">
    <ul class="menu">
        
        
            
                <li class="menu-item-home">
                    <a href="/">Home</a>
                </li>
            
        
            
                <li class="menu-item-blog">
                    <a href="/posts/">Blog</a>
                </li>
            
        
            
                <li class="menu-item-about">
                    <a href="/about/">About</a>
                </li>
            
        
            
                <li class="menu-item-tags">
                    <a href="/tags/">Tags</a>
                </li>
            
        
    </ul>
</div>
  <div id="wrapper" class="wrapper">
    <div class='header'>
  <a class="header-logo" href="/">Dead Programmer SOciety</a>
  <div class="menu-main">
    <ul>
      
      
      
      
      <li class="menu-item-home ">
        <a href="/">
          
          <span>Home</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-blog ">
        <a href="/posts/">
          
          <span>Blog</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-about ">
        <a href="/about/">
          
          <span>About</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-tags ">
        <a href="/tags/">
          
          <span>Tags</span>
        </a>
      </li>
      
    </ul>
  </div>
  <div id="toggle-menu-main-mobile" class="hamburger-trigger">
    <button class="hamburger">Menu</button>
  </div>
</div>
    
  <div class="blog">
    
    <div class="intro">
      <h1>RailsConf 2007 - Day 3<span class="dot">.</span></h1>
      
    </div>
    <div class="content">
      <p><a href="http://farm.tucows.com/images/2006/07/dave_thomas_at_railsconf.jpg"><img src="http://farm.tucows.com/images/2006/07/dave_thomas_at_railsconf.jpg" alt=""></a>By the time we got to RailsConf Day 3, only the most hard core remained. In other words, almost everyone. And we were glad to have stuck around, because some of the best content of the entire conference was yet to come. David Black, introduced two integral members of the Ruby on Rails team, Jamis Buck and Michael &ldquo;Koz&rdquo; Koziarski, the co-authors of the seminal &ldquo;Rails Way&rdquo; blog.</p>
<p><strong>The Rails Way</strong><br>
Jamis and Koz and both written and read a lot of Ruby on Rails code. The Rails Way is not just what could be done, but what should be; the best way to build a Rails application. Their knowledge of best practices is second to no one, and they shared a whole bunch of great information. I can&rsquo;t really do their tag team code review justice, but here are the highlights:</p>
<p>Fat controller is anti-pattern<br>
*hard to test<br>
*break apart into a model object</p>
<p>A model is anything that encapsulates data and logic, not just an object that talks to a database.<br>
*one benefit of this encapsulation is testing<br>
*another advantage is the form_for handle can easily use a model</p>
<p>When to use with_scope<br>
*move the logic to the parent class, so as to freely get the scoping with no extra work<br>
*do not go crazy with DRY</p>
<p>ActiveSupport has helpers to make some code self-documenting for dates/times</p>
<p>Asociations<br>
*People make associations, but then fail to use them throughout the rest of the application<br>
*this helps keep code from breaking in the case where database keys change, for example</p>
<p>Cargo culting<br>
*He hates !! (not-not) idiom.<br>
*Ternary operator&hellip;likes it sometimes<br>
*Explain exactly why you need boolean returned, again?</p>
<p>Model helpers<br>
*use associations in views instead of instance variables</p>
<p>Routing<br>
*simplifying non restful routes - map.with_options</p>
<p>Override to_param to make nice looking URL</p>
<p>Returning method</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
 returning new do |booking|  
  booking.some\_thing  
  booking.some\_other\_thing  
 end  

</code></pre></div><p>The session was really great. Pretty much everyone in the room, no matter how advanced their level, got something good out of it. We could have stayed there all day, with different people bringing up pieces of code for these guys to refactor. If you can, hire them.</p>
<p><strong>Javascript - Fu</strong><br>
<a href="http://danwebb.net">Dan Webb</a> is the author of the <a href="http://danweb.net/lowpro">LowPro extensions to the Prototype JavaScript library</a>. He had a really nice tight Takahashi style presentation. He was also extremely funny, and the information incredibly useful. Once again, the last day of RailsConf really had a lot of good stuff!</p>
<p>JavaScript is the language we all love to hate. A peasant language, meaning that &ldquo;lower-level&rdquo; programmer have to work on the JavaScript code while &ldquo;higher-level&rdquo; ones get to work on the &ldquo;architecture&rdquo;.</p>
<p>JavaScript - fu is not easy to master. Developers are forced into refuge by using frameworks and libraries.</p>
<p>The Ancient Manuals of JavaScript-Fu<br>
* The Tao Of The Event Handler (Events)<br>
* Five Method of DOM Fist (DOM)<br>
* Lightning Script Style (Optimization)<br>
* Iron AJAX Technique (Progressive enhancement)</p>
<p>There are big differences in browser implementation of JavaScript.</p>
<p>Two main techniques: inline vs. scripted event handlers</p>
<p>Inline - applied as soon as browser loads</p>
<p>What happen when more than a little bit of inline code</p>
<p>Scripted event handlers<br>
*problem in they attach after the element is loaded</p>
<p>LowPro library is an extension library for Prototype, but Prototype library trunk now has a similar thing.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
// Prototype 1.5+ and LowPro  
Event.onReady(function() {  
  $(&#39;item&#39;).observe(&#39;click&#39;, function() {...});  
});  
  
// Prototype trunk  
Event.observe(window, &#39;DOMContentLoaded&#39;, function() {  
  $(&#39;item&#39;).observe(&#39;click&#39;, function() {...});  
});  
  
// Basic onload  
Event.observe(window, &#39;load&#39;, function() {  
  $(&#39;item&#39;).observe(&#39;click&#39;, function() {...});  
});  

</code></pre></div><p>Attach handler from script to each object you want, in order to stay DRY</p>
<p>Separate your JavaScript out of your pages, just like you separate CSS</p>
<p>Large number of event handlers can choke browser performance</p>
<p>How:<br>
* use script based by default<br>
* in bug page try event delegation<br>
* if all else fails use inline</p>
<p>Event delegation - yahoo tehnique<br>
* event bubbling</p>
<p>Better inline handlers<br>
*a tag needs an actual HREF<br>
*do as little as possible, for example:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
 return view(this);  
 function delete(elemtn)  
 {  
  new Ajax.Request(element.href), {  
   method: &#39;delete&#39;  
  });  
  
  return false ;  
 }  

</code></pre></div><p>5 methods of DOM fist<br>
*3 oficial W3C methods to modify the DOM<br>
- appendChild<br>
- insertBefore<br>
- replaceChild<br>
*1 non-standard (from IE)<br>
- innerHTML</p>
<p>DOM methods insert with precision - have to create nodes first<br>
InnerHTML shifts large bulk amounts of HTML, but with little control</p>
<p>Really easy to use innerhtml from Rails with Ajax</p>
<p>The bastard son - unholy marriage of DOM methods and HTML</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
Element.fromHTML = function(html) {  
  var root = document.createElement(&#39;div&#39;);  
  root.innerHTML = html;  
  return root.firstChild;  
}  
  
var node = Element.fromHTML(&#39;&lt;div&gt;&#39;);  
element.insertBefore(thing, node);  

</code></pre></div><p>Lightning Script Style<br>
* making things as fast as possible<br>
* do not use javascript_include_tag :defaults cause it downloads 5 big files<br>
* browsers take time both to download AND evaluate a script<br>
* the less JS the better<br>
* mooeffects smaller than scriptaculous, but less powerful<br>
* browsers can only load 2 resource at once<br>
* combine js files<br>
* Use gzip instead of JS based minification.</p>
<p>Make sure everything is cacheable</p>
<p>Faster loops</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
 for(var i - 0, enemy;  
  enemy = enemies\[i\]; i++) {  
 defend(enemy);  
  }  

</code></pre></div><p>Be careful with selectors<br>
$$('.anything'); slower<br>
$$(&lsquo;span.anything&rsquo;); slow<br>
$$('#item .anything'); // css xpath selector</p>
<p>Iron Ajax Technique<br>
* rule #1: browsers suck<br>
* main browsers are getting better quickly<br>
* but what about the others?<br>
* Corporate security blocks Javascript at firewall<br>
* the traditional rails opin: f* you!<br>
* but why turn away users if you don&rsquo;t have to</p>
<p>Progressive Enhancement<br>
1. start with plain HTML<br>
2. test if necessary brwt features are there (XMLHTTPreq, canvas, etc)<br>
3. If present, then apply xtra JS features</p>
<p>Tt&rsquo;s easy to apply to ajax<br>
* HTML<br>
* JS<br>
* RJS</p>
<p>Try progressinve enhancement first</p>
<p>Lastly, Dan recommended a few books on Javascript he said are better than all the others:<br>
* <a href="http://www.amazon.com/Pro-JavaScript-Techniques-John-Resig/dp/1590597273">Professional JavaScript Techniques</a><br>
* <a href="http://www.amazon.com/Bulletproof-Ajax-Voices-That-Matter/dp/0321472667">Bulletproof Ajax</a><br>
* <a href="http://www.amazon.com/DHTML-Utopia-Modern-Design-JavaScript/dp/0957921896">DTHML Utopia: Modern Web Design Using Javascript and DOM</a></p>
<p>Dan&rsquo;s session was full of good stuff. Even the people who thought they knew it all were scribbling down a couple things before the end. And thank you, Dan, for making it really fun as well as informative.</p>
<p><strong>Dave Thomas</strong><br>
Dave&rsquo;s speech was unconventional, in that he doesn&rsquo;t say what people expect him to. I consider that a good thing. Many people in the crowd were perplexed for long moments as he spoke. For those people who need a simple explanation of Dave&rsquo;s speech, the two recurring themes for RailsConf were &ldquo;give&rdquo;, and &ldquo;don&rsquo;t get stuck&rdquo;.</p>
<p>&ldquo;Just to set the record straight, the first RubyConf was 3 people and a dog, and the speaking was in between sips of beer&rdquo;</p>
<p>Orthodoxy - do what is expected<br>
Orthopraxy - do the &ldquo;right thing&rdquo;</p>
<p>It&rsquo;s called Object oriented programming, not class oriented programming. Challenge: write next next program with objects instead of classes</p>
<p>What Are Your Cargo Cults?</p>
<p>Dave is a real thinker, and I hope that our community can rise to the challenge and keep progressing. Embrace Orthopraxy!</p>

    </div>
  </div>

    <div class="footer">
  
  <div class="footer-social">
    
      <span class="social-icon social-icon-twitter">
        <a href="https://twitter.com/deadprogram" title="twitter" target="_blank" rel="noopener">
          <img src="/images/social/twitter.svg" width="24" height="24" alt="twitter"/>
        </a>
      </span>
    
      <span class="social-icon social-icon-github">
        <a href="https://github.com/deadprogram" title="github" target="_blank" rel="noopener">
          <img src="/images/social/github.svg" width="24" height="24" alt="github"/>
        </a>
      </span>
    
      <span class="social-icon social-icon-linkedin">
        <a href="https://www.linkedin.com/in/deadprogram/" title="linkedin" target="_blank" rel="noopener">
          <img src="/images/social/linkedin.svg" width="24" height="24" alt="linkedin"/>
        </a>
      </span>
    
  </div>
  
</div>
  </div>

  

  

  
  <script type="text/javascript" src="/js/bundle.min.575671c6da23c3563d465f9cfa3d2857fc0239531a2e8ea1fb6812017653b4d7.js"></script>
  

  
  

  
  
  
    
  

  


</body>
</html>