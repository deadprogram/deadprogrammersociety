<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>LARubyConf 2009 - Jeremy Evans - &#34;Sequel&#34; - Dead Programmer SOciety</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="/favicon.png">
  <link rel="canonical" href="/2009/04/larubyconf-2009-jeremy-evans-sequel.html" />

  
  
  <link rel="stylesheet" href="/css/style.min.6b89cc86c0b843a772cdd6c6a8b7e11c2116c7933f6163d2ef225a87e1d2c121.css">
  

  
    
    <meta property="og:title" content="LARubyConf 2009 - Jeremy Evans - &#34;Sequel&#34;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="/2009/04/larubyconf-2009-jeremy-evans-sequel.html"/>
    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@deadprogram"/>
    <meta name="twitter:creator" content="@deadprogram"/>
  

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet"> 
</head>




<body class='page frame page-blog-single'>
  <div id="menu-main-mobile" class="menu-main-mobile">
    <ul class="menu">
        
        
            
                <li class="menu-item-home">
                    <a href="/">Home</a>
                </li>
            
        
            
                <li class="menu-item-blog">
                    <a href="/posts/">Blog</a>
                </li>
            
        
            
                <li class="menu-item-about">
                    <a href="/about/">About</a>
                </li>
            
        
            
                <li class="menu-item-tags">
                    <a href="/tags/">Tags</a>
                </li>
            
        
    </ul>
</div>
  <div id="wrapper" class="wrapper">
    <div class='header'>
  <a class="header-logo" href="/">Dead Programmer SOciety</a>
  <div class="menu-main">
    <ul>
      
      
      
      
      <li class="menu-item-home ">
        <a href="/">
          
          <span>Home</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-blog ">
        <a href="/posts/">
          
          <span>Blog</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-about ">
        <a href="/about/">
          
          <span>About</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-tags ">
        <a href="/tags/">
          
          <span>Tags</span>
        </a>
      </li>
      
    </ul>
  </div>
  <div id="toggle-menu-main-mobile" class="hamburger-trigger">
    <button class="hamburger">Menu</button>
  </div>
</div>
    
  <div class="blog">
    
    <div class="intro">
      <h1>LARubyConf 2009 - Jeremy Evans - &#34;Sequel&#34;<span class="dot">.</span></h1>
      
    </div>
    <div class="content">
      <p><a href="http://www.freeclassicimages.com/images/ghostbusters_2_1989.jpg"><img src="http://www.freeclassicimages.com/images/ghostbusters_2_1989.jpg" alt=""></a>The next session at the 2009 <a href="http://www.larubyconf.com">Los Angeles Ruby Conference (LARubyConf)</a> was <a href="http://code.jeremyevans.net/sequel">Jeremy Evans</a> presenting <a href="http://sequel.rubyforge.org/">Sequel</a>, which is a very powerful database toolkit for Ruby.</p>
<p>Ruby originally had adapters for each database. The problem was that each was very database specific. This was a problem due to both SQL differences, as well as API differences.</p>
<p>no behavior</p>
<p>1997 - ruby-postgres was first created.</p>
<p>2000 - DBI</p>
<p>2004 - Active Record<br>
Although AR made things easier, it had strong opinions. These opinions did not always map perfectly to any particular database.</p>
<p>2007 - Sequel</p>
<p>Completely DB independent API.</p>
<p>Example is concatanating strings, which requires a completely different syntax in each flavor of SQL database.</p>
<p>Concise</p>
<p>Optional Behavior</p>
<p>Opinions?</p>
<p>Ruby should be like clay in a child&rsquo;s hands - Matz</p>
<p>Sequel advantages:<br>
- Simple - as possible but no simpler<br>
- Flexible - opinions, not dogma<br>
- Powerful<br>
- Lightweight - 1/2 memory usage as active record<br>
- Well maintained<br>
- Easy to Contribute<br>
- Easy to Understand<br>
- More Fun</p>
<p>Show me the *** code!</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
require &#39;seq&#39;  
DB = Sequal.sqlite(&#39;larun&#39;)  
DB\[:attendees\].count  
\# =&gt; 1  
  
DB\[:attendees\].first  
\# =&gt; {:name =&#39;&#39;, :address =&gt;}  

</code></pre></div><p>Transactions</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
DB.trans do  
  DB\[:entry\],insert(:account\_id =&gt; 1)  
  
  ...  
  
end  

</code></pre></div><p>SQL Loggers</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
DB.loggers &lt;&lt; Logger.new($stdout)  

</code></pre></div><p>Each DB has its own connection pool</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
DB\[:table\].all # or .each  
  
.update(:column =&gt; &#39;value)  
  
.delete  
  
DB\[:table\] # this is a dataset... like query cursor  

</code></pre></div><p>Sequel is a functional API, where object methods return copies of themselves.</p>
<p>.select - while columns<br>
.filter<br>
.order</p>
<p>This means you can easily chain function calls, like jQuery. Awesome!</p>
<p>Sequel represents its internal objects using SQL&rsquo;s own internal representations</p>
<p>Sequel has &lsquo;core&rsquo; and &lsquo;model&rsquo;</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  
class Attendee &lt; Sequel::Model  
  many\_to\_one  
  one\_to\_many  
    
    
end  

</code></pre></div><p>Hooks &amp; Validations - got &lsquo;em</p>
<p>Sequel it built entirely out of plugins. That sounds interesting, but experience with DataMapper has shown me that too many plugins may not be a good thing. However, I do not have any direct experience with Sequel yet, so this may be a non-issue.</p>
<p>13 - # of database adapters that Sequel supports today</p>
<p>Database graphing</p>
<p>Everything was going so well up to this point. However, Jeremy then tried to do his demo on Windows, just to show that if you are one of the poor souls using Windows, it can still work for you. He failed to account for the quirkiness of conference display adapters, and what that can do to a machine. Oh well, no demo.</p>
<p>That said, I was really impressed by what I heard about Sequel. I think I will have to try it out on something, just to see how it does.</p>

    </div>
  </div>

    <div class="footer">
  
  <div class="footer-social">
    
      <span class="social-icon social-icon-twitter">
        <a href="https://twitter.com/deadprogram" title="twitter" target="_blank" rel="noopener">
          <img src="/images/social/twitter.svg" width="24" height="24" alt="twitter"/>
        </a>
      </span>
    
      <span class="social-icon social-icon-github">
        <a href="https://github.com/deadprogram" title="github" target="_blank" rel="noopener">
          <img src="/images/social/github.svg" width="24" height="24" alt="github"/>
        </a>
      </span>
    
      <span class="social-icon social-icon-linkedin">
        <a href="https://www.linkedin.com/in/deadprogram/" title="linkedin" target="_blank" rel="noopener">
          <img src="/images/social/linkedin.svg" width="24" height="24" alt="linkedin"/>
        </a>
      </span>
    
  </div>
  
</div>
  </div>

  

  

  
  <script type="text/javascript" src="/js/bundle.min.575671c6da23c3563d465f9cfa3d2857fc0239531a2e8ea1fb6812017653b4d7.js"></script>
  

  
  

  
  
  
    
  

  


</body>
</html>